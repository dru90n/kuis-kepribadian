<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuis Kepribadian</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
        }
        button {
            background-color: #4CAF50;
            color: white;
            border: none;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        button:hover {
            background-color: #45a049;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .question {
            margin-bottom: 20px;
        }
        .options label {
            display: block;
            margin: 10px 0;
            padding: 10px;
            background-color: #f9f9f9;
            border-radius: 5px;
            cursor: pointer;
        }
        .options label:hover {
            background-color: #e9e9e9;
        }
        .progress-container {
            margin: 20px 0;
        }
        #progress {
            height: 10px;
            background-color: #ddd;
            border-radius: 5px;
        }
        #progress-bar {
            height: 100%;
            background-color: #4CAF50;
            border-radius: 5px;
            width: 0%;
            transition: width 0.3s;
        }
        .hidden {
            display: none;
        }
        .result-percentages {
            margin: 20px 0;
        }
        .percentage-item {
            margin: 15px 0;
        }
        .percentage-label {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        .percentage-bar {
            height: 20px;
            background-color: #e0e0e0;
            border-radius: 10px;
            overflow: hidden;
        }
        .percentage-fill {
            height: 100%;
            border-radius: 10px;
            color: white;
            font-weight: bold;
            text-align: right;
            padding-right: 10px;
            line-height: 20px;
            font-size: 14px;
            transition: width 0.5s;
        }
        .sanguinis { background-color: #FF5722; }
        .koleris { background-color: #F44336; }
        .plegmatis { background-color: #4CAF50; }
        .melankolis { background-color: #2196F3; }
        .nav-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 20px;
        }
        #result-title {
            color: #2c3e50;
            margin-top: 20px;
        }
        #result-desc {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            border-left: 4px solid #4CAF50;
        }
        #whatsapp-share {
            background-color: #25D366;
            display: flex;
            align-items: center;
            gap: 5px;
        }
input-section {
            margin: 20px 0;
        }
        .input-section label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .input-section input, .input-section select {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
            box-sizing: border-box;
        }
    </style>
</head>
<body>
<p align=center><img src="https://raw.githubusercontent.com/dru90n/kuis-kepribadian/refs/heads/main/Bgbgbg.png" width="70%"></p>
    <div class="container">
        <div id="intro-container">
            <h1>Kuis Kepribadian | Playgirls Models</h1>
            <p>Tes ini akan mengidentifikasi tipe kepribadian Anda berdasarkan 4 kategori: Sanguinis, Koleris, Plegmatis, dan Melankolis.</p>
            <p>Total ada 28 pertanyaan. Jawablah dengan jujur sesuai dengan diri Anda.</p>
            
            <div class="input-section">
                <label for="user-name">Nama Anda:</label>
                <input type="text" id="user-name" placeholder="Masukkan nama Anda">
                
                <label for="user-city">Kota:</label>
                <select id="user-city">
                    <option value="">Pilih kota</option>
                    <option value="Malang">Malang</option>
                    <option value="Semarang">Semarang</option>
                    <option value="Jakarta">Jakarta</option>
                    <option value="Bali">Bali</option>
                    <option value="Surabaya">Surabaya</option>
                </select>
            </div>

            <button id="start-btn">Mulai Tes</button>
        </div>

        <div id="quiz-container" class="hidden">
            <div class="progress-container">
                <div id="progress">
                    <div id="progress-bar"></div>
                </div>
                <div id="question-counter">Pertanyaan 1 dari 28</div>
            </div>
            <div class="question">
                <h2 id="question-text"></h2>
                <div id="option-container" class="options"></div>
            </div>
            <div class="nav-buttons">
                <button id="prev-btn" disabled>Sebelumnya</button>
                <button id="next-btn">Selanjutnya</button>
            </div>
        </div>

        <div id="result-container" class="hidden">
            <h2>Hasil Tes Kepribadian Anda</h2>
            <h3 id="result-title"></h3>
            <p id="result-desc"></p>
            
            <div class="result-percentages">
                <h4>Komposisi Kepribadian:</h4>
                <div id="percentages-container"></div>
            </div>
            
            <button id="whatsapp-share">ðŸ“± Share via WhatsApp</button>
            <button id="restart-btn">Ulangi Tes</button>
        </div>
    </div>

    <script>
        // Data pertanyaan lengkap (28 pertanyaan)
        const questions = [
            // Sanguinis (7 pertanyaan)
            { id: 1, text: "Saya mudah bergaul dan senang bertemu orang baru", category: "sanguinis", reversed: false },
            { id: 2, text: "Saya sering dianggap sebagai orang yang energik dan bersemangat", category: "sanguinis", reversed: false },
            { id: 3, text: "Saya mudah bosan dengan kegiatan yang monoton", category: "sanguinis", reversed: false },
            { id: 4, text: "Saya sering membuat orang tertawa dengan cerita-cerita saya", category: "sanguinis", reversed: false },
            { id: 5, text: "Saya senang menjadi pusat perhatian", category: "sanguinis", reversed: false },
            { id: 6, text: "Saya mudah beradaptasi dengan situasi baru", category: "sanguinis", reversed: false },
            { id: 7, text: "Saya senang memulai percakapan dengan orang asian", category: "sanguinis", reversed: false },
            
            // Koleris (7 pertanyaan)
            { id: 8, text: "Saya cenderung mengambil alih kepemimpinan dalam kelompok", category: "koleris", reversed: false },
            { id: 9, text: "Saya membuat keputusan dengan cepat dan tegas", category: "koleris", reversed: false },
            { id: 10, text: "Saya suka menetapkan target yang menantang", category: "koleris", reversed: false },
            { id: 11, text: "Saya tidak sabar dengan orang yang bekerja lambat", category: "koleris", reversed: false },
            { id: 12, text: "Saya fokus pada hasil daripada proses", category: "koleris", reversed: false },
            { id: 13, text: "Saya senang memecahkan masalah yang kompleks", category: "koleris", reversed: false },
            { id: 26, text: "Saya cenderung langsung mengambil tindakan ketika melihat masalah", category: "koleris", reversed: false },
            
            // Plegmatis (7 pertanyaan)
            { id: 14, text: "Saya lebih memilih menghindari konflik", category: "plegmatis", reversed: false },
            { id: 15, text: "Saya merasa nyaman dengan rutinitas yang stabil", category: "plegmatis", reversed: false },
            { id: 16, text: "Saya lebih suka mendengarkan daripada memimpin pembicaraan", category: "plegmatis", reversed: false },
            { id: 17, text: "Saya menghargai harmoni lebih dari segalanya", category: "plegmatis", reversed: false },
            { id: 18, text: "Saya lebih memilih mengalah daripada berselisih", category: "plegmatis", reversed: false },
            { id: 19, text: "Saya merasa nyaman dengan kehidupan yang sederhana", category: "plegmatis", reversed: false },
            { id: 27, text: "Saya lebih suka bekerja dengan tempo yang santai tanpa tekanan", category: "plegmatis", reversed: false },
            
            // Melankolis (7 pertanyaan)
            { id: 20, text: "Saya sangat memperhatikan detail dan presisi", category: "melankolis", reversed: false },
            { id: 21, text: "Saya sering merenungkan makna hidup secara mendalam", category: "melankolis", reversed: false },
            { id: 22, text: "Saya perfeksionis dalam pekerjaan saya", category: "melankolis", reversed: false },
            { id: 23, text: "Saya sering memikirkan masa lalu dengan detail", category: "melankolis", reversed: false },
            { id: 24, text: "Saya sering merasa khawatir tentang masa depan", category: "melankolis", reversed: false },
            { id: 25, text: "Saya sangat sensitif terhadap kritik", category: "melankolis", reversed: false },
            { id: 28, text: "Saya sering menganalisis kesalahan kecil yang saya buat", category: "melankolis", reversed: false }
        ];

        // Acak urutan pertanyaan
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }
        const shuffledQuestions = shuffleArray([...questions]);

        // Variabel
        let currentQuestionIndex = 0;
        let answers = Array(shuffledQuestions.length).fill(null);
        const introContainer = document.getElementById('intro-container');
        const quizContainer = document.getElementById('quiz-container');
        const resultContainer = document.getElementById('result-container');
        const startBtn = document.getElementById('start-btn');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const questionText = document.getElementById('question-text');
        const optionContainer = document.getElementById('option-container');
        const progressBar = document.getElementById('progress-bar');
        const questionCounter = document.getElementById('question-counter');
        const resultTitle = document.getElementById('result-title');
        const resultDesc = document.getElementById('result-desc');
        const percentagesContainer = document.getElementById('percentages-container');
        const restartBtn = document.getElementById('restart-btn');
        const whatsappShareBtn = document.getElementById('whatsapp-share');

        // Deskripsi hasil
        const personalityDescriptions = {
            sanguinis: "Anda orang yang bersemangat, hidup, dan menyenangkan. Anda suka menjadi pusat perhatian dan membuat orang lain tertawa. Kekuatan Anda adalah antusiasme dan kemampuan bersosialisasi.",
            koleris: "Anda adalah pemimpin alami yang tegas dan berorientasi pada tujuan. Anda menyukai tantangan dan selalu mencari solusi. Kekuatan Anda adalah tekad dan kemampuan mengambil keputusan.",
            plegmatis: "Anda adalah pribadi yang tenang, sabar, dan harmonis. Anda menghindari konflik dan lebih suka hidup yang stabil. Kekuatan Anda adalah ketenangan dan kemampuan menjadi pendamai.",
            melankolis: "Anda adalah pemikir yang mendalam, perfeksionis, dan detail-oriented. Anda sangat memperhatikan kualitas dan akurasi. Kekuatan Anda adalah analisis mendalam dan perhatian terhadap detail."
        };

        // Mulai kuis
        startBtn.addEventListener('click', startQuiz);
        restartBtn.addEventListener('click', restartQuiz);
        nextBtn.addEventListener('click', nextQuestion);
        prevBtn.addEventListener('click', prevQuestion);
        whatsappShareBtn.addEventListener('click', shareWhatsApp);

        function startQuiz() {
            introContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            showQuestion();
        }

        function showQuestion() {
            const question = shuffledQuestions[currentQuestionIndex];
            questionText.textContent = question.text;
            
            // Update progress
            const progress = ((currentQuestionIndex + 1) / shuffledQuestions.length) * 100;
            progressBar.style.width = `${progress}%`;
            questionCounter.textContent = `Pertanyaan ${currentQuestionIndex + 1} dari ${shuffledQuestions.length}`;
            
            // Tampilkan opsi
            optionContainer.innerHTML = '';
            const options = [
                'Sangat Tidak Setuju',
                'Tidak Setuju',
                'Netral',
                'Setuju',
                'Sangat Setuju'
            ];
            
            options.forEach((option, index) => {
                const radioId = `option-${currentQuestionIndex}-${index}`;
                const label = document.createElement('label');
                const input = document.createElement('input');
                input.type = 'radio';
                input.name = 'option';
                input.id = radioId;
                input.value = index + 1;
                
                if (answers[currentQuestionIndex] === index + 1) {
                    input.checked = true;
                }
                
                label.htmlFor = radioId;
                label.appendChild(input);
                label.appendChild(document.createTextNode(option));
                optionContainer.appendChild(label);
            });
            
            // Update tombol navigasi
            prevBtn.disabled = currentQuestionIndex === 0;
            nextBtn.textContent = currentQuestionIndex === shuffledQuestions.length - 1 ? 'Selesai' : 'Selanjutnya';
        }

        function nextQuestion() {
            const selectedOption = document.querySelector('input[name="option"]:checked');
            
            if (!selectedOption && answers[currentQuestionIndex] === null) {
                alert('Silakan pilih salah satu jawaban');
                return;
            }
            
            // Simpan jawaban
            if (selectedOption) {
                answers[currentQuestionIndex] = parseInt(selectedOption.value);
            }
            
            if (currentQuestionIndex < shuffledQuestions.length - 1) {
                currentQuestionIndex++;
                showQuestion();
            } else {
                showResults();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                showQuestion();
            }
        }

        function showResults() {
            quizContainer.classList.add('hidden');
            resultContainer.classList.remove('hidden');
            
            // Hitung skor untuk setiap kategori
            const scores = {
                sanguinis: 0,
                koleris: 0,
                plegmatis: 0,
                melankolis: 0
            };
            
            shuffledQuestions.forEach((question, index) => {
                const answerValue = answers[index] || 3; // Default netral jika tidak dijawab
                scores[question.category] += question.reversed ? (6 - answerValue) : answerValue;
            });
            
            // Hitung total skor
            const totalScore = Object.values(scores).reduce((a, b) => a + b, 0);
            
            // Hitung persentase
            let percentages = {
                sanguinis: Math.round((scores.sanguinis / totalScore) * 100),
                koleris: Math.round((scores.koleris / totalScore) * 100),
                plegmatis: Math.round((scores.plegmatis / totalScore) * 100),
                melankolis: Math.round((scores.melankolis / totalScore) * 100)
            };
            
            // Koreksi pembulatan jika total tidak 100%
            const adjustPercentages = (percentages) => {
                let total = Object.values(percentages).reduce((a, b) => a + b, 0);
                const diff = 100 - total;
                if (diff !== 0) {
                    const maxKey = Object.keys(percentages).reduce((a, b) => 
                        percentages[a] > percentages[b] ? a : b
                    );
                    percentages[maxKey] += diff;
                }
                return percentages;
            };
            
            percentages = adjustPercentages(percentages);
            
            // Tentukan kepribadian dominan
            const personalityType = Object.keys(percentages).reduce((a, b) => 
                percentages[a] > percentages[b] ? a : b
            );
            
            // Tampilkan hasil utama
            resultTitle.textContent = `Kepribadian Dominan: ${personalityType.toUpperCase()}`;
            resultDesc.textContent = personalityDescriptions[personalityType];
            
            // Tampilkan persentase
            percentagesContainer.innerHTML = '';
            
            // Urutkan dari persentase tertinggi
            const sortedTypes = Object.keys(percentages).sort((a, b) => percentages[b] - percentages[a]);
            
            sortedTypes.forEach(type => {
                const percentageItem = document.createElement('div');
                percentageItem.className = 'percentage-item';
                
                const percentageLabel = document.createElement('div');
                percentageLabel.className = 'percentage-label';
                
                const typeName = document.createElement('span');
                typeName.textContent = type.toUpperCase();
                
                const percentageValue = document.createElement('span');
                percentageValue.textContent = `${percentages[type]}%`;
                
                percentageLabel.appendChild(typeName);
                percentageLabel.appendChild(percentageValue);
                
                const percentageBar = document.createElement('div');
                percentageBar.className = 'percentage-bar';
                
                const percentageFill = document.createElement('div');
                percentageFill.className = `percentage-fill ${type}`;
                percentageFill.style.width = `${percentages[type]}%`;
                percentageFill.textContent = `${percentages[type]}%`;
                
                percentageBar.appendChild(percentageFill);
                percentageItem.appendChild(percentageLabel);
                percentageItem.appendChild(percentageBar);
                
                percentagesContainer.appendChild(percentageItem);
            });
        }
function shareWhatsApp() {
            const userName = document.getElementById('user-name').value || 'Anonymous';
            const userCity = document.getElementById('user-city').value || 'unknown city';
            
            const percentageElements = document.querySelectorAll('.percentage-item');
            let hasilText = `ðŸ“Š Hasil Kuis Kepribadian ${userName} (${userCity}):\n\n`;
            
            const typeEmojis = {
                sanguinis: "ðŸŸ¥",
                koleris: "ðŸŸ¦", 
                plegmatis: "ðŸŸ©",
                melankolis: "ðŸŸª"
            };

            percentageElements.forEach(el => {
                const type = el.querySelector('span:first-child').textContent.toLowerCase();
                const percent = el.querySelector('span:last-child').textContent;
                hasilText += `${typeEmojis[type]} ${type.toUpperCase()}: ${percent}\n`;
            });

            hasilText += `\nâœ¨ ${document.getElementById('result-title').textContent}\n\n` + 
                        `ðŸ”¹ Coba kuis ini juga: ${window.location.href}`;

            window.open(`https://wa.me/?text=${encodeURIComponent(hasilText)}`, '_blank');
        }

        // Modify the startQuiz function to validate inputs:
        function startQuiz() {
            const userName = document.getElementById('user-name').value;
            const userCity = document.getElementById('user-city').value;
            
            if (!userName) {
                alert('Silakan masukkan nama Anda');
                return;
            }
            
            if (!userCity) {
                alert('Silakan pilih kota');
                return;
            }
            
            introContainer.classList.add('hidden');
            quizContainer.classList.remove('hidden');
            showQuestion();
        }
        function restartQuiz() {
            currentQuestionIndex = 0;
            answers = Array(shuffledQuestions.length).fill(null);
            shuffleArray(shuffledQuestions);
            resultContainer.classList.add('hidden');
            introContainer.classList.remove('hidden');
        }
    </script>
<p align=center><font size=1>Coding by dru90n @ 2013 - 2025</font></p>
</body>
</html>