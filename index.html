<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kuis Kepribadian 4 Tipe</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f4; }
    h1 { text-align: center; }
    .question { margin-bottom: 20px; background: white; padding: 15px; border-radius: 8px; }
    .scale { display: flex; justify-content: space-between; margin-top: 10px; }
    .results { margin-top: 30px; padding: 20px; background: #fff; border-radius: 8px; }
    .bar { height: 24px; margin-bottom: 10px; border-radius: 4px; }
    .sanguinis { background: #ff9800; }
    .plegmatis { background: #2196f3; }
    .koleris { background: #f44336; }
    .melankolis { background: #9c27b0; }
  </style>
</head>
<body>
  <h1>Kuis Kepribadian 4 Tipe</h1><br>
  <h3><i>Isi dengan skala 1-5 (1 = Sangat Setuju, 2 = Setuju, 3 = Netral, 4 = Tidak Setuju, 5 = Sangat tidak Setuju)</i></h3>
  <form id="quizForm"></form>
  <div id="results" class="results" style="display: none;"></div>

  <script>
    const questions = [
      { text: "Saya suka menjadi pusat perhatian.", trait: "Sanguinis" },
      { text: "Saya cenderung menghindari konflik.", trait: "Plegmatis" },
      { text: "Saya suka mengambil alih kepemimpinan.", trait: "Koleris" },
      { text: "Saya perfeksionis dan sangat memperhatikan detail.", trait: "Melankolis" },
      // ... Tambahkan total 25 pertanyaan dengan proporsi yang seimbang
    ];

    while (questions.length < 25) {
      questions.push(...questions.slice(0, 25 - questions.length));
    }

    const form = document.getElementById("quizForm");
    questions.forEach((q, i) => {
      const div = document.createElement("div");
      div.className = "question";
      div.innerHTML = `<strong>${i + 1}. ${q.text}</strong>
        <div class="scale">
          ${[1,2,3,4,5].map(n => `
            <label>
              <input type="radio" name="q${i}" value="${n}" required /> ${n}
            </label>
          `).join('')}
        </div>`;
      form.appendChild(div);
    });

    const traitScores = { Sanguinis: 0, Plegmatis: 0, Koleris: 0, Melankolis: 0 };

    form.innerHTML += '<button type="submit">Lihat Hasil</button>';
    form.onsubmit = e => {
      e.preventDefault();
      Object.keys(traitScores).forEach(k => traitScores[k] = 0);
      const data = new FormData(form);

      [...data.entries()].forEach(([k, v], i) => {
        const trait = questions[i].trait;
        traitScores[trait] += parseInt(v);
      });

      const total = Object.values(traitScores).reduce((a,b) => a + b, 0);
      const resultsDiv = document.getElementById("results");
      resultsDiv.innerHTML = "<h2>Hasil Kepribadian Anda:</h2>";
      const sorted = Object.entries(traitScores).sort((a,b) => b[1] - a[1]);

      sorted.forEach(([trait, score]) => {
        const percent = Math.round(score / total * 100);
        resultsDiv.innerHTML += `<div><strong>${trait}</strong> (${percent}%)
          <div class="bar ${trait.toLowerCase()}" style="width: ${percent}%;"></div>
        </div>`;
      });

      const dominant = sorted[0][0];
      resultsDiv.innerHTML += `<p><strong>Tipe Dominan Anda:</strong> ${dominant}</p>`;
      resultsDiv.style.display = "block";
      window.scrollTo({ top: resultsDiv.offsetTop, behavior: 'smooth' });
    }
  </script>
</body>
</html>
